# ClimateSync config.yml (WORKING TEMPLATE)
# Key rule: safety MUST be under settings.safety (NOT at root), or the plugin will think modifyBlocks=false.

settings:
  provider: OPENWEATHER
  openWeather:
    apiKey: "2ad87456e797367029f7350b3d82a3b8"
    pollIntervalSeconds: 10800            # 3 hours
    minSecondsBetweenSameZoneCalls: 3600  # 1 hour
    baseUrl: "https://api.openweathermap.org/data/2.5/weather"
    units: "metric"

  # Safety: Control what the plugin is allowed to change.
  # Snow accumulation REQUIRES modifyBlocks=true (snow layers are blocks).
  safety:
    modifyBlocks: true
    modifyBiomes: false
    modifyEntities: false

  debug:
    showPrecipInZoneCommand: false
    logWeatherApplies: false
    logSnowPass: false

  thresholds:
    coldMaxC: 0.0
    hotMinC: 30.0

# WORLD weather toggles (rain/thunder) â€” still world-wide in WORLD_GLOBAL mode.
# Regional variation comes from worldMapping + snow.source=MAPPED_ZONE.
weather:
  enabled: true
  mode: WORLD_GLOBAL
  targetWorlds:
    - world
  driverZonePerWorld:
    world: na_versailles_mo

  # 3 hours in ticks: 3*60*60*20 = 216000
  durationTicks: 216000

  thunderInHotWet: true
  thunderChance: 0.35

# World mapping: maps MC (x,z) to nearest anchor zone
# NOTE: This does NOT change biomes/blocks/entities by itself.
worldMapping:
  enabled: true
  world: world
  northAxis: "-Z"
  selection: NEAREST

  anchors:
    - zoneId: eu_london_gb
      mcX: -38
      mcZ: -5265
      note: "London (West End)"

    - zoneId: na_new_york_ny
      mcX: -7571
      mcZ: -4162
      note: "NYC"

    - zoneId: na_tampa_fl
      mcX: -8449
      mcZ: -2856
      note: "Tampa"

    - zoneId: as_seoul_kr
      mcX: 13053
      mcZ: -3898
      note: "DMZ area (anchor)"

    - zoneId: eu_rome_it
      mcX: 1260
      mcZ: -4643
      note: "Rome"

# Snow Accumulation Service (SAS)
# Places/removes snow layers around players based on mapped zone temperature & wetness.
snow:
  enabled: true

  # Source for temperature/wetness:
  # - MAPPED_ZONE: uses worldMapping anchors (nearest anchor zone to each player)
  # - DRIVER_ZONE: uses weather.driverZonePerWorld for the whole world
  source: MAPPED_ZONE

  thresholds:
    snowAtOrBelowC: 0.0
    blizzardAtOrBelowC: -5.0
    meltAtOrAboveC: 1.5

  accumulation:
    normalMaxLayers: 3
    blizzardMaxLayers: 8
    blizzardRequiresWet: true

  mode: AROUND_PLAYERS
  radiusBlocks: 96
  maxBlocksPerRun: 4000
  tickIntervalSeconds: 20

  placeSnowLayers: true

  # Optional extras (leave false until you want them)
  freezeWater: false
  meltIce: false

# Zones (Top 50, spaced far apart / not clustered within ~100 miles)
# ID format: continent_city == NA_Versailles_MO style (lowercase here, as requested earlier)
zones:
  - n: 1
    id: na_versailles_mo
    lat: 38.4319
    lon: -92.8416

  - n: 2
    id: na_new_york_ny
    lat: 40.7128
    lon: -74.0060

  - n: 3
    id: na_los_angeles_ca
    lat: 34.0522
    lon: -118.2437

  - n: 4
    id: na_chicago_il
    lat: 41.8781
    lon: -87.6298

  - n: 5
    id: na_denver_co
    lat: 39.7392
    lon: -104.9903

  - n: 6
    id: na_seattle_wa
    lat: 47.6062
    lon: -122.3321

  - n: 7
    id: na_miami_fl
    lat: 25.7617
    lon: -80.1918

  - n: 8
    id: na_tampa_fl
    lat: 27.9506
    lon: -82.4572

  - n: 9
    id: na_dallas_tx
    lat: 32.7767
    lon: -96.7970

  - n: 10
    id: na_washington_dc
    lat: 38.9072
    lon: -77.0369

  - n: 11
    id: na_toronto_ca
    lat: 43.6532
    lon: -79.3832

  - n: 12
    id: na_mexico_city_mx
    lat: 19.4326
    lon: -99.1332

  - n: 13
    id: sa_sao_paulo_br
    lat: -23.5558
    lon: -46.6396

  - n: 14
    id: sa_rio_de_janeiro_br
    lat: -22.9068
    lon: -43.1729

  - n: 15
    id: sa_buenos_aires_ar
    lat: -34.6037
    lon: -58.3816

  - n: 16
    id: sa_santiago_cl
    lat: -33.4489
    lon: -70.6693

  - n: 17
    id: eu_london_gb
    lat: 51.5074
    lon: -0.1278

  - n: 18
    id: eu_paris_fr
    lat: 48.8566
    lon: 2.3522

  - n: 19
    id: eu_berlin_de
    lat: 52.5200
    lon: 13.4050

  - n: 20
    id: eu_madrid_es
    lat: 40.4168
    lon: -3.7038

  - n: 21
    id: eu_rome_it
    lat: 41.9028
    lon: 12.4964

  - n: 22
    id: eu_vienna_at
    lat: 48.2082
    lon: 16.3738

  - n: 23
    id: eu_warsaw_pl
    lat: 52.2297
    lon: 21.0122

  - n: 24
    id: eu_stockholm_se
    lat: 59.3293
    lon: 18.0686

  - n: 25
    id: eu_oslo_no
    lat: 59.9139
    lon: 10.7522

  - n: 26
    id: eu_helsinki_fi
    lat: 60.1699
    lon: 24.9384

  - n: 27
    id: eu_athens_gr
    lat: 37.9838
    lon: 23.7275

  - n: 28
    id: eu_istanbul_tr
    lat: 41.0082
    lon: 28.9784

  - n: 29
    id: eu_moscow_ru
    lat: 55.7558
    lon: 37.6173

  - n: 30
    id: af_cairo_eg
    lat: 30.0444
    lon: 31.2357

  - n: 31
    id: af_nairobi_ke
    lat: -1.2921
    lon: 36.8219

  - n: 32
    id: af_lagos_ng
    lat: 6.5244
    lon: 3.3792

  - n: 33
    id: af_johannesburg_za
    lat: -26.2041
    lon: 28.0473

  - n: 34
    id: af_casablanca_ma
    lat: 33.5731
    lon: -7.5898

  - n: 35
    id: me_baghdad_iq
    lat: 33.3152
    lon: 44.3661

  - n: 36
    id: me_riyadh_sa
    lat: 24.7136
    lon: 46.6753

  - n: 37
    id: me_tehran_ir
    lat: 35.6892
    lon: 51.3890

  - n: 38
    id: me_dubai_ae
    lat: 25.2048
    lon: 55.2708

  - n: 39
    id: me_jerusalem_il
    lat: 31.7683
    lon: 35.2137

  - n: 40
    id: as_delhi_in
    lat: 28.6139
    lon: 77.2090

  - n: 41
    id: as_mumbai_in
    lat: 19.0760
    lon: 72.8777

  - n: 42
    id: as_beijing_cn
    lat: 39.9042
    lon: 116.4074

  - n: 43
    id: as_shanghai_cn
    lat: 31.2304
    lon: 121.4737

  - n: 44
    id: as_tokyo_jp
    lat: 35.6762
    lon: 139.6503

  - n: 45
    id: as_seoul_kr
    lat: 37.5665
    lon: 126.9780

  - n: 46
    id: as_bangkok_th
    lat: 13.7563
    lon: 100.5018

  - n: 47
    id: as_singapore_sg
    lat: 1.3521
    lon: 103.8198

  - n: 48
    id: oc_sydney_au
    lat: -33.8688
    lon: 151.2093

  - n: 49
    id: oc_auckland_nz
    lat: -36.8485
    lon: 174.7633

  - n: 50
    id: oc_perth_au
    lat: -31.9523
    lon: 115.8613
